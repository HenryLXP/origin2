<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				margin: 0;
				padding: 0;
				border: none;
			}
			body,html{
				width:100% ;
				height: 100%;
				background: url(images/bg.jpg);
				background-size: cover;	
			}
			img{
				width: 18px;
				height: 18px;
				position: absolute;
			}
		</style>
		<script src="move.js"></script>
		<script>
		
			//萤火虫
			//构造函数 + 原型
			//Fireworm 
			//ele 属性
			//fly 方法
		

			//萤火虫类
			function Fireworm(){
				
				this.ele = document.createElement("img");  //创建萤火虫
				this.ele.src = "images/snow.gif"           //图片地址
				this.ele.style.left = this.randomPoint().left + "px";  //出现的位置
				this.ele.style.top = this.randomPoint().top + "px";
				document.body.appendChild(this.ele);
				
				//this.fly();
					
			}
			
			//通过原型的方式 创建飞 方法
			Fireworm.prototype.fly = function(){
				var self = this;  //保存this
				startMove(this.ele,this.randomPoint(),function(){
					self.fly();
				});
			}
						
			
			//通过原型的方式 产生随机点的方法
			Fireworm.prototype.randomPoint = function(){
				var x = parseInt(Math.random()*document.documentElement.clientWidth);
				var y = parseInt(Math.random()*document.documentElement.clientHeight);
				return {left:x,top:y};
			}
						
			
			
			
			
			
			onload = function(){

				var count = 10;  //最大的萤火虫数量
				var timer = setInterval(function(){  //开启定时器
					if(count--){
						var fireworm = new Fireworm();  //创建萤火虫实例对象
						fireworm.fly();					//调用飞的方法
					}else{
						clearInterval(timer);           //关闭定时器
					}
					
				},1000);


			}
			
			
			
			
		</script>
	</head>
	<body>
	</body>
</html>
